(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,n){e.exports=n(68)},40:function(e,t,n){},42:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(31),o=n.n(l),c=(n(40),n(4)),u=n(5),i=n(12),s=n(11),m=n(13),d=n(72),h=n(69),p=(n(42),n(2)),f=n(3);function b(){var e=Object(p.a)(["\nwidth: 33%;\nheight: 33%;\nmargin: 2vh 5vw;\nborder: 1px solid tomato;\nborder-radius: 5px;\npadding: 1vh;\nfloat: left;\nfont-size: 1em;\na {\n  text-decoration: none;\n}\na:visited {\n  color: black;\n}\nimg {\n  padding: 1vh;\n  width: 33%;\n}\n"]);return b=function(){return e},e}var E=f.a.div(b()),v=function(e){return r.a.createElement(E,null,r.a.createElement("a",{href:e.to},r.a.createElement("img",{alt:"",src:e.img}),r.a.createElement("br",null),r.a.createElement("h3",null,e.linkText),r.a.createElement("p",null,e.description)))},g=n(8),w=n(14),O=n.n(w),k=O.a.create({baseURL:"".concat("https://quinielapp.herokuapp.com"),withCredentials:!0}),y=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"errorHandler",value:function(e){throw console.error("AUTH API ERROR"),console.error(e),e}},{key:"currentUser",value:function(){return k.get("/auth/currentuser").then(function(e){return e.data.user}).catch(e.errorHandler)}},{key:"login",value:function(t,n){return k.post("/auth/login",{email:t,password:n}).then(function(e){return e.data}).catch(e.errorHandler)}},{key:"signup",value:function(t,n,a){return k.post("/auth/signup",{name:t,email:n,password:a}).then(function(e){return e.data.user}).catch(e.errorHandler)}},{key:"logout",value:function(){return k.get("/auth/logout").then(function(){return console.log("Logout")}).catch(e.errorHandler)}},{key:"getUsers",value:function(){return k.get("auth/allUsers").then(function(e){return e.data}).catch(e.errorHandler)}}]),e}(),j=n(71),x=function(e){return{type:"LOGIN",user:e}},C=function(e){return{type:"ADD_MESSAGE",message:e}};function S(){var e=Object(p.a)(["\n  button {\n    background-color: tomato;\n    color: white;\n    border-radius: 5px;\n}\n  input {\n    border: 1px solid tomato;\n    border-radius: 5px;\n  }\n  text-align: left;\n  padding: 2vh 10vw;\n"]);return S=function(){return e},e}var T=f.a.div(S()),L=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={email:"",password:""},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleLogin",value:function(){var e=this.state,t=e.email,n=e.password,a=this.props,r=a.history,l=a.dispatch;y.login(t,n).then(function(e){l({type:"DELETE_ALL_MESSAGES"}),l(x(e)),r.push("/")}).catch(function(){l(C("Invalid login credentials"))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.password;return r.a.createElement(T,null,r.a.createElement("h2",null,"Login"),r.a.createElement("label",null,"Email:  "),r.a.createElement("input",{value:n,type:"email",onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("label",null,"Password:  "),r.a.createElement("input",{value:a,type:"password",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.handleLogin()}},"Login"),r.a.createElement("br",null),r.a.createElement("p",null,"Still not a user? You can register for free ",r.a.createElement("a",{href:"/signup"},"here")))}}]),t}(a.Component),_=Object(g.b)()(Object(j.a)(L)),A=Object(g.b)(function(e){return{user:e.user}})(function(e){var t=e.user;return r.a.createElement("div",null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{img:"http://www.guidet.es/sites/default/files/styles/imagen_producto_nodo/public/imagenes_productos/logotipo-quiniela-azul-adhesivo-guidet-geydes.png?itok=B96lxlpv",to:"/bet",linkText:"Bet!",description:"Here you can make your bet for next weekend"}),r.a.createElement(v,{img:"https://iconsplace.com/wp-content/uploads/_icons/ff0000/256/png/football-icon-14-256.png",to:"/matches",linkText:"Matches",description:"See results of the current matches. Click now!"}),r.a.createElement(v,{img:"http://iconsetc.com/icons-watermarks/flat-circle-white-on-red/layouts-rounded/layouts-rounded_short-list-view/layouts-rounded_short-list-view_flat-circle-white-on-red_512x512.png",to:"/ranking",linkText:"Ranking",description:"Want to know which your position is?"}),r.a.createElement(v,{img:"http://www.aibifitness.com/commercial/wp-content/uploads/2016/07/user-5121.png",to:"/user",linkText:"User",description:"All important data about you (safely saved)"}),r.a.createElement("br",null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null)))});function R(){var e=Object(p.a)(["\n  :hover {\n    background-color: #f5f5f5;\n  }\n"]);return R=function(){return e},e}var U=f.a.tr(R()),H=function(e){var t=e.quiniela,n=e.onChange;return r.a.createElement(U,null,r.a.createElement("td",null,t.number),r.a.createElement("td",null,t.match),r.a.createElement("td",null,r.a.createElement("input",{onChange:n,type:"radio",name:t.name,value:"1"})),r.a.createElement("td",null,r.a.createElement("input",{onChange:n,type:"radio",name:t.name,value:"X"})),r.a.createElement("td",null,r.a.createElement("input",{onChange:n,type:"radio",name:t.name,value:"2"})))};function B(){var e=Object(p.a)(["\n  :hover {\n    background-color: #f5f5f5;\n  }\n"]);return B=function(){return e},e}var D=f.a.tr(B()),M=function(e){return r.a.createElement(D,null,r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.localTeam," - ",e.visitorTeam),r.a.createElement("td",null,r.a.createElement("input",{onChange:e.onChange,type:"text",name:e.name,value:"1"})))},N=O.a.create({baseURL:"".concat("https://quinielapp.herokuapp.com"),withCredentials:!0}),I=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"errorHandler",value:function(e){throw console.error("BET API ERROR"),console.error(e),e}},{key:"bet",value:function(t){return N.post("/bet/new",{apuestas:t}).then(function(e){return e.data.bet}).catch(e.errorHandler)}},{key:"getBet",value:function(){return N.get("/userBet").then(function(e){return e.data.bet}).catch(e.errorHandler)}}]),e}();function q(){var e=Object(p.a)(["\n  background-color: tomato;\n  color: white;\n  border-radius: 5px;\n"]);return q=function(){return e},e}function P(){var e=Object(p.a)(["\n  border-collapse: collapse;\n  width: 100%;\n  text-align: left;\n  vertical-align: middle;\n  th {\n    border-bottom: 1px solid #ddd;\n    background-color: tomato;\n    color: white;\n    font-weight: normal;\n  }\n"]);return P=function(){return e},e}var G=f.a.table(P()),X=f.a.button(q()),F=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={allTheBets:[],data:null},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://quinielapp.herokuapp.com","/quinielaScrape/apuesta")).then(function(e){return e.json()}).then(function(e){return e}).then(function(t){e.setState(t)})}},{key:"handleBetting",value:function(){var e=this.props,t=e.history,n=e.dispatch;I.bet(this.state.allTheBets).then(function(){return t.push("/")}).catch(function(){n(C("Bet was not done"))})}},{key:"handleChange",value:function(e,t){var n=this.state.allTheBets.filter(function(e){return e.index!==t}),a={index:t,value:e};n.push(a),this.setState({allTheBets:n})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"NUM"),r.a.createElement("th",null,"MATCH"),r.a.createElement("th",null,"1"),r.a.createElement("th",null,"X"),r.a.createElement("th",null,"2"))),r.a.createElement("tbody",null,this.state.bets?this.state.bets.map(function(t,n){return r.a.createElement(H,{onChange:function(t){return e.handleChange(t.target.value,n)},key:n,quiniela:t})}):r.a.createElement("tr",null,r.a.createElement("td",{className:"donut"})),r.a.createElement(M,{number:"15",localTeam:"REAL MADRID",visitorTeam:"BARCELONA"}))),r.a.createElement("br",null),r.a.createElement(X,{onClick:function(){return e.handleBetting()}},"Submit"))}}]),t}(a.Component),V=Object(g.b)()(Object(j.a)(F));function z(){var e=Object(p.a)(["\n:hover {background-color: #f5f5f5;};\n"]);return z=function(){return e},e}var W=f.a.tr(z()),Y=function(e){var t=e.matches;return r.a.createElement(W,null,r.a.createElement("td",null,t.match),r.a.createElement("td",null,t.finalResult))};function J(){var e=Object(p.a)(["\n  border-collapse: collapse;\n  width: 100%;\n  text-align: left;\n  vertical-align: middle;\n  th {\n    border-bottom: 1px solid #ddd;\n    background-color: tomato;\n    color: white;\n    font-weight: normal;\n  }\n"]);return J=function(){return e},e}var $=f.a.table(J()),K=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={data:null},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://quinielapp.herokuapp.com","/quinielaScrape/quiniela")).then(function(e){return e.json()}).then(function(e){return e}).then(function(t){e.setState(t)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"MATCH"),r.a.createElement("th",null,"RESULT"))),r.a.createElement("tbody",null,this.state.results?this.state.results.map(function(e,t){return r.a.createElement(Y,{key:t,matches:e})}):r.a.createElement("tr",null,r.a.createElement("td",null,"...")))))}}]),t}(a.Component);function Q(){var e=Object(p.a)(["\n  :hover {\n    background-color: #f5f5f5;\n  }\n"]);return Q=function(){return e},e}var Z=f.a.tr(Q()),ee=function(e){var t=e.users;return r.a.createElement(Z,null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.points))};function te(){var e=Object(p.a)(["\n  overflow-x: auto;\n"]);return te=function(){return e},e}function ne(){var e=Object(p.a)(["\n  border-collapse: collapse;\n  width: 100%;\n  text-align: left;\n  vertical-align: middle;\n  th {\n    border-bottom: 1px solid #ddd;\n    background-color: tomato;\n    color: white;\n    font-weight: normal;\n  }\n"]);return ne=function(){return e},e}var ae=f.a.table(ne()),re=f.a.div(te()),le=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={data:null},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.getUsers().then(function(t){e.setState(t)})}},{key:"render",value:function(){return r.a.createElement(re,null,r.a.createElement(ae,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PTS"))),r.a.createElement("tbody",null,this.state.users?this.state.users.map(function(e,t){return r.a.createElement(ee,{key:t,users:e})}):r.a.createElement("tr",null,r.a.createElement("td",null,"...")))))}}]),t}(a.Component);function oe(){var e=Object(p.a)(["\nwidth: 80%;\nmargin: 2vh 5vw;\nborder: 1px solid tomato;\nborder-radius: 5px;\npadding: 1vh;\nfloat: left;\na {\n  text-decoration: none;\n}\na:visited {\n  color: black;\n}\nimg {\n  padding: 1vh;\n  width: 50%;\n}\n"]);return oe=function(){return e},e}var ce=f.a.div(oe()),ue=Object(g.b)(function(e){return e})(function(e){return r.a.createElement(ce,null,r.a.createElement("img",{alt:"",src:"https://perkovec.gallerycdn.vsassets.io/extensions/perkovec/emoji/0.0.3/1474455600876/Microsoft.VisualStudio.Services.Icons.Default"}),r.a.createElement("br",null),r.a.createElement("h3",null,e.name),r.a.createElement("p",null,"Points: ",e.points))}),ie=O.a.create({baseURL:"".concat("https://quinielapp.herokuapp.com"),withCredentials:!0}),se=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"errorHandler",value:function(e){throw console.error("AUTH API ERROR"),console.error(e),e}},{key:"updatePoints",value:function(){return ie.post("/points/points").then(function(e){return e.data}).catch(e.errorHandler)}}]),e}();function me(){var e=Object(p.a)(["\n  background-color: tomato;\n  color: white;\n  border-radius: 5px;\n"]);return me=function(){return e},e}var de=f.a.button(me()),he=Object(g.b)(function(e){return{user:e.user}})(function(e){var t=e.user,n=e.dispatch,a=e.history;return r.a.createElement("div",null,r.a.createElement(ue,{name:t.name,points:t.points}),r.a.createElement(de,{onClick:function(){return se.updatePoints()}},"Update points"),r.a.createElement(de,{onClick:function(){return y.logout().then(function(){return a.push("/")}).then(function(){n({type:"LOGOUT"})})}},"Logout"))});function pe(){var e=Object(p.a)(["\n  button {\n    background-color: tomato;\n    color: white;\n    border-radius: 5px;\n}\n  input {\n    border: 1px solid tomato;\n    border-radius: 5px;\n  }\n  text-align: left;\n  padding: 2vh 10vw;\n"]);return pe=function(){return e},e}var fe=f.a.div(pe()),be=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={name:"",email:"",password:""},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleLogin",value:function(){var e=this.state,t=e.name,n=e.email,a=e.password,r=this.props,l=r.history,o=r.dispatch;y.signup(t,n,a).then(function(e){o({type:"DELETE_ALL_MESSAGES"}),o(x(e)),l.push("/")}).catch(function(e){o(C("Cannot Login"))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.email,l=t.password;return r.a.createElement(fe,null,r.a.createElement("h2",null,"Signup"),r.a.createElement("label",null,"Name:   "),r.a.createElement("input",{value:n,onChange:function(t){return e.setState({name:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("label",null,"Email:   "),r.a.createElement("input",{value:a,type:"email",onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("label",null,"Password:  "),r.a.createElement("input",{value:l,type:"password",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.handleLogin()}},"Signup"),r.a.createElement("p",null,"Already a member? Login ",r.a.createElement("a",{href:"/login"},"here!")))}}]),t}(a.Component),Ee=Object(g.b)()(Object(j.a)(be)),ve=function(){return r.a.createElement("div",null,r.a.createElement(Ee,null))},ge=function(e){e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null))};function we(){var e=Object(p.a)(["\n  background-color: tomato;\n  overflow: hidden;\n  width: 100%;\n  margin-top: 0;\n  margin-bottom: 2vh;\n  a {\n    float: left;\n    color: #f2f2f2;\n    text-align: center;\n    padding: 10px 10px;\n    text-decoration: none;\n    font-size: 17px;\n    margin: auto;\n  }\n  img {\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    width: 12%;\n  }\n"]);return we=function(){return e},e}var Oe=f.a.div(we()),ke=function(){return r.a.createElement(Oe,null,r.a.createElement("a",{href:"/"},r.a.createElement("img",{alt:"",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Soccerball-red.svg/400px-Soccerball-red.svg.png"})))},ye=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ke,null),r.a.createElement(d.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:A}),r.a.createElement(h.a,{path:"/bet",component:V}),r.a.createElement(h.a,{path:"/matches",component:K}),r.a.createElement(h.a,{path:"/ranking",component:le}),r.a.createElement(h.a,{path:"/user",component:he}),r.a.createElement(h.a,{path:"/signup",component:ve}),r.a.createElement(h.a,{path:"/login",component:ge})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je=n(70),xe=n(17),Ce=n(20),Se={user:{},matchday:{}},Te=Object(xe.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MATCHDAY":e=Object(Ce.a)({},e,{matchday:t.matchday});break;case"LOGIN":e=Object(Ce.a)({},e,{user:t.user});break;case"LOGOUT":e=Object(Ce.a)({},e,{user:null});break;default:return e}return e},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());y.currentUser().then(function(e){Te.dispatch(x(e))}).catch(function(e){return Te.dispatch(C("YOU HAVE TO LOGIN"))});o.a.render(r.a.createElement(function(){return r.a.createElement(g.a,{store:Te},r.a.createElement(je.a,null,r.a.createElement(ye,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,2,1]]]);
//# sourceMappingURL=main.0945446e.chunk.js.map